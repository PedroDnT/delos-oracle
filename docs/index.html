<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DELOS - Brazilian Macro Oracle Platform Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .sidebar-scroll {
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }
        .content-area {
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }
        .search-highlight {
            background-color: #fef3c7;
            padding: 2px 4px;
            border-radius: 2px;
        }
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item:hover {
            background-color: #f3f4f6;
            padding-left: 1rem;
        }
        .nav-item.active {
            background-color: #3b82f6;
            color: white;
            padding-left: 1rem;
        }
        .diagram-container {
            overflow-x: auto;
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        .code-block {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #374151;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        .copy-btn:hover {
            background: #4b5563;
        }
        .tab-container {
            border-bottom: 2px solid #e5e7eb;
        }
        .tab-btn {
            padding: 0.5rem 1rem;
            border: none;
            background: none;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        .tab-btn.active {
            border-bottom-color: #3b82f6;
            color: #3b82f6;
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-full px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <div class="text-2xl font-bold text-blue-600">
                        <i class="fas fa-chart-line mr-2"></i>DELOS
                    </div>
                    <div class="text-sm text-gray-600">Brazilian Macro Oracle Platform</div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="Buscar na documentação..."
                               class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                    <a href="https://github.com/PedroDnT/delos-oracle" target="_blank"
                       class="text-gray-600 hover:text-gray-900">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <nav class="w-64 bg-white shadow-sm sidebar-scroll p-6">
            <div class="space-y-2">
                <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
                    Documentação
                </div>

                <a href="#overview" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-home w-5 mr-3"></i>
                    Visão Geral
                </a>

                <a href="#quick-start" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-rocket w-5 mr-3"></i>
                    Quick Start
                </a>

                <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mt-6 mb-3">
                    Arquitetura
                </div>

                <a href="#architecture" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-sitemap w-5 mr-3"></i>
                    Sistema
                </a>

                <a href="#contracts" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-file-contract w-5 mr-3"></i>
                    Smart Contracts
                </a>

                <a href="#api" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-code w-5 mr-3"></i>
                    API Reference
                </a>

                <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mt-6 mb-3">
                    Guias
                </div>

                <a href="#developer-guide" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-tools w-5 mr-3"></i>
                    Desenvolvimento
                </a>

                <a href="#user-guide" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-user w-5 mr-3"></i>
                    Usuário
                </a>

                <a href="#deployment" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-cloud w-5 mr-3"></i>
                    Deploy
                </a>

                <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mt-6 mb-3">
                    Exemplos
                </div>

                <a href="#examples" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-code-branch w-5 mr-3"></i>
                    Código
                </a>

                <a href="#tutorials" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-graduation-cap w-5 mr-3"></i>
                    Tutoriais
                </a>

                <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mt-6 mb-3">
                    Recursos
                </div>

                <a href="#troubleshooting" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-question-circle w-5 mr-3"></i>
                    Problemas
                </a>

                <a href="#changelog" class="nav-item flex items-center py-2 px-3 text-sm text-gray-700 rounded">
                    <i class="fas fa-history w-5 mr-3"></i>
                    Changelog
                </a>
            </div>

            <!-- Status -->
            <div class="mt-8 p-4 bg-green-50 rounded-lg">
                <div class="text-xs font-semibold text-green-800 mb-2">Status do Sistema</div>
                <div class="space-y-1">
                    <div class="flex items-center text-xs">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        Oracle Online
                    </div>
                    <div class="flex items-center text-xs">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        Factory Ativo
                    </div>
                    <div class="flex items-center text-xs">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        API Funcionando
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 content-area">
            <div class="p-8">
                <!-- Overview Section -->
                <section id="overview" class="mb-16">
                    <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg p-8 mb-8">
                        <h1 class="text-4xl font-bold mb-4">DELOS - Brazilian Macro Oracle Platform</h1>
                        <p class="text-xl text-blue-100 mb-6">
                            Plataforma completa de dados macroeconômicos on-chain e debêntures tokenizadas para o programa piloto da ANBIMA
                        </p>
                        <div class="flex space-x-4">
                            <span class="bg-blue-500 px-3 py-1 rounded-full text-sm">Arbitrum Sepolia</span>
                            <span class="bg-indigo-500 px-3 py-1 rounded-full text-sm">Solidity 0.8.28</span>
                            <span class="bg-purple-500 px-3 py-1 rounded-full text-sm">Next.js 14</span>
                            <span class="bg-green-500 px-3 py-1 rounded-full text-sm">Python 3.9+</span>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="text-blue-600 text-2xl mb-3">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Oracle de Dados Macro</h3>
                            <p class="text-gray-600 text-sm">6 taxas BCB on-chain (IPCA, CDI, SELIC, PTAX, IGP-M, TR) com compatibilidade Chainlink</p>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="text-green-600 text-2xl mb-3">
                                <i class="fas fa-coins"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Debêntures Tokenizadas</h3>
                            <p class="text-gray-600 text-sm">ERC-20 + ERC-1404 com indexação IPCA/CDI, cupons automáticos e restrições de transferência</p>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="text-purple-600 text-2xl mb-3">
                                <i class="fas fa-industry"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Clone Factory</h3>
                            <p class="text-gray-600 text-sm">Deploy eficiente usando EIP-1167 (6.7KB por debênture) com registry integrado</p>
                        </div>
                    </div>

                    <!-- Deployed Contracts -->
                    <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
                        <h2 class="text-2xl font-bold mb-4">
                            <i class="fas fa-rocket text-blue-600 mr-2"></i>
                            Contratos Deployados (Arbitrum Sepolia)
                        </h2>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="text-left p-3 font-medium text-gray-900">Contrato</th>
                                        <th class="text-left p-3 font-medium text-gray-900">Endereço</th>
                                        <th class="text-left p-3 font-medium text-gray-900">Explorer</th>
                                        <th class="text-left p-3 font-medium text-gray-900">Descrição</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr>
                                        <td class="p-3 font-mono font-semibold text-blue-600">BrazilianMacroOracle</td>
                                        <td class="p-3 font-mono text-xs">0xe52d06e96A0ad3e81f23dF5464Ef059c72B3D8fe</td>
                                        <td class="p-3">
                                            <a href="https://sepolia.arbiscan.io/address/0xe52d06e96A0ad3e81f23dF5464Ef059c72B3D8fe"
                                               target="_blank" class="text-blue-600 hover:underline">
                                                <i class="fas fa-external-link-alt"></i> Ver
                                            </a>
                                        </td>
                                        <td class="p-3">Oracle com 6 taxas BCB</td>
                                    </tr>
                                    <tr>
                                        <td class="p-3 font-mono font-semibold text-green-600">DebentureImplementation</td>
                                        <td class="p-3 font-mono text-xs">0x8856dd1f536169B8A82D8DA5476F9765b768f51D</td>
                                        <td class="p-3">
                                            <a href="https://sepolia.arbiscan.io/address/0x8856dd1f536169B8A82D8DA5476F9765b768f51D"
                                               target="_blank" class="text-blue-600 hover:underline">
                                                <i class="fas fa-external-link-alt"></i> Ver
                                            </a>
                                        </td>
                                        <td class="p-3">Implementação base (Clone)</td>
                                    </tr>
                                    <tr>
                                        <td class="p-3 font-mono font-semibold text-purple-600">DebentureCloneFactory</td>
                                        <td class="p-3 font-mono text-xs">0x946ca8D40717D7C4bD0fCF134527b890D9b5DF6f</td>
                                        <td class="p-3">
                                            <a href="https://sepolia.arbiscan.io/address/0x946ca8D40717D7C4bD0fCF134527b890D9b5DF6f"
                                               target="_blank" class="text-blue-600 hover:underline">
                                                <i class="fas fa-external-link-alt"></i> Ver
                                            </a>
                                        </td>
                                        <td class="p-3">Factory EIP-1167 (6.7KB)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Quick Start Section -->
                <section id="quick-start" class="mb-16">
                    <h2 class="text-3xl font-bold mb-6">
                        <i class="fas fa-rocket text-green-600 mr-2"></i>
                        Quick Start
                    </h2>

                    <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
                        <h3 class="text-xl font-semibold mb-4">Demonstração Completa</h3>
                        <div class="tab-container mb-4">
                            <button class="tab-btn active" data-tab="script-demo">Script Automatizado</button>
                            <button class="tab-btn" data-tab="console-demo">Console Interativo</button>
                            <button class="tab-btn" data-tab="frontend-demo">Frontend</button>
                        </div>

                        <div id="script-demo" class="tab-content active">
                            <p class="text-gray-600 mb-4">Execute a demonstração completa em ~2 minutos:</p>
                            <div class="code-block">
                                <button class="copy-btn" data-copy="demo-script">Copiar</button>
                                <pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto"><code id="demo-script"># Clone e setup
git clone https://github.com/PedroDnT/delos-oracle.git
cd delos-oracle

# Instalar dependências
cd contracts && npm install
cd ../frontend && npm install
cd ../backend && python -m venv venv && source venv/bin/activate && pip install -r requirements.txt

# Executar demo completa
cd ../contracts
npx hardhat run scripts/demo-complete.ts --network arbitrumSepolia</code></pre>
                            </div>
                        </div>

                        <div id="console-demo" class="tab-content">
                            <p class="text-gray-600 mb-4">Interação manual via console:</p>
                            <div class="code-block">
                                <button class="copy-btn" data-copy="console-commands">Copiar</button>
                                <pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto"><code id="console-commands">npx hardhat console --network arbitrumSepolia

// Conectar ao oracle
const oracle = await ethers.getContractAt("BrazilianMacroOracle", "0xe52d06e96A0ad3e81f23dF5464Ef059c72B3D8fe");

// Consultar IPCA
const ipca = await oracle.getIPCA();
console.log("IPCA:", ethers.formatUnits(ipca.value, 8), "%");</code></pre>
                            </div>
                        </div>

                        <div id="frontend-demo" class="tab-content">
                            <p class="text-gray-600 mb-4">Interface visual com RainbowKit:</p>
                            <div class="code-block">
                                <button class="copy-btn" data-copy="frontend-commands">Copiar</button>
                                <pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto"><code id="frontend-commands">cd frontend
npm install
npm run dev

# Abrir http://localhost:3000
# Conectar carteira (Arbitrum Sepolia)
# Explorar dashboard de taxas</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Features Overview -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-lg shadow-sm border p-6">
                            <h4 class="text-lg font-semibold mb-3 text-blue-600">
                                <i class="fas fa-database mr-2"></i>Oracle Features
                            </h4>
                            <ul class="space-y-2 text-sm text-gray-600">
                                <li><i class="fas fa-check text-green-500 mr-2"></i>6 taxas BCB (IPCA, CDI, SELIC, PTAX, IGP-M, TR)</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>Compatibilidade Chainlink AggregatorV3</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>8 decimais de precisão</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>Circuit breakers e validação</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>Atualizações em lote para eficiência</li>
                            </ul>
                        </div>

                        <div class="bg-white rounded-lg shadow-sm border p-6">
                            <h4 class="text-lg font-semibold mb-3 text-green-600">
                                <i class="fas fa-coins mr-2"></i>Debenture Features
                            </h4>
                            <ul class="space-y-2 text-sm text-gray-600">
                                <li><i class="fas fa-check text-green-500 mr-2"></i>ERC-20 + ERC-1404 (restrições de transferência)</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>5 tipos de taxa (PRE, DI, IPCA, IGP-M)</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>3 tipos de amortização</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>Cupons mensais/trimestrais/semestrais</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i>KYC whitelist integrado</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Architecture Section -->
                <section id="architecture" class="mb-16">
                    <h2 class="text-3xl font-bold mb-6">
                        <i class="fas fa-sitemap text-purple-600 mr-2"></i>
                        Arquitetura do Sistema
                    </h2>

                    <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
                        <h3 class="text-xl font-semibold mb-4">Diagrama de Arquitetura</h3>
                        <div class="diagram-container">
                            <!-- Mermaid diagram will be rendered here -->
                            <div class="mermaid">
graph TB
    subgraph "Data Sources"
        BCB[BCB API<br/>Series: 433, 12, 432, 1, 189, 226]
    end

    subgraph "Backend (Python)"
        BCB_CLIENT[BCB Client<br/>httpx, retry, validation]
        UPDATER[Oracle Updater<br/>Web3, batch updates]
        SCHEDULER[Scheduler<br/>APScheduler]
        API[REST API<br/>FastAPI, 10 endpoints]
        DATASTORE[Data Store<br/>SQLite versioning]
        ANOMALY[Anomaly Detector<br/>Statistical analysis]
    end

    subgraph "Smart Contracts (Solidity)"
        ORACLE[BrazilianMacroOracle<br/>6 rates, 8 decimals<br/>Chainlink compatible]
        FACTORY[DebentureCloneFactory<br/>EIP-1167, 6.7KB<br/>Registry]
        IMPL[DebentureImplementation<br/>ERC-20 + ERC-1404]
        DEBENTURE[BrazilianDebentureCloneable<br/>Coupon calculations<br/>KYC whitelist]
    end

    subgraph "Frontend (Next.js 14)"
        DASHBOARD[Oracle Dashboard<br/>Real-time rates]
        ISSUE[Debenture Issuance<br/>Form validation]
        PORTFOLIO[Portfolio Management<br/>Balances, coupons]
    end

    BCB --> BCB_CLIENT
    BCB_CLIENT --> UPDATER
    SCHEDULER --> UPDATER
    BCB_CLIENT --> API
    UPDATER --> ORACLE
    API --> DATASTORE
    BCB_CLIENT --> ANOMALY

    ORACLE --> DEBENTURE
    FACTORY --> IMPL
    FACTORY --> DEBENTURE

    DASHBOARD --> ORACLE
    ISSUE --> FACTORY
    PORTFOLIO --> DEBENTURE

    class ORACLE fill:#e1f5fe
    class FACTORY fill:#e8f5e8
    class DEBENTURE fill:#fff3e0
    class API fill:#f3e5f5
                            </div>
                        </div>
                    </div>

                    <!-- Component Details -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-white rounded-lg shadow-sm border p-6">
                            <h4 class="text-lg font-semibold mb-3 text-blue-600">Oracle</h4>
                            <div class="space-y-2 text-sm">
                                <div><strong>Endereço:</strong> <code class="text-xs">0xe52...3D8fe</code></div>
                                <div><strong>Taxas:</strong> 6 (IPCA, CDI, SELIC, PTAX, IGP-M, TR)</div>
                                <div><strong>Precisão:</strong> 8 decimais</div>
                                <div><strong>Padrão:</strong> Chainlink AggregatorV3</div>
                                <div><strong>Testes:</strong> 33/33 ✅</div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-sm border p-6">
                            <h4 class="text-lg font-semibold mb-3 text-green-600">Factory</h4>
                            <div class="space-y-2 text-sm">
                                <div><strong>Endereço:</strong> <code class="text-xs">0x946...5DF6f</code></div>
                                <div><strong>Padrão:</strong> EIP-1167 Clone</div>
                                <div><strong>Tamanho:</strong> 6.7KB por debênture</div>
                                <div><strong>Registry:</strong> Todas as debêntures</div>
                                <div><strong>Filtros:</strong> Por emissor</div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-sm border p-6">
                            <h4 class="text-lg font-semibold mb-3 text-purple-600">Backend</h4>
                            <div class="space-y-2 text-sm">
                                <div><strong>Framework:</strong> FastAPI</div>
                                <div><strong>Scheduler:</strong> APScheduler</div>
                                <div><strong>Database:</strong> SQLite</div>
                                <div><strong>Endpoints:</strong> 10 REST APIs</div>
                                <div><strong>Monitoring:</strong> Anomaly detection</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- More sections would go here... -->

            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });

        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.getAttribute('data-tab');

                // Remove active from all tabs and contents
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                // Add active to clicked tab and corresponding content
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Copy functionality
        document.querySelectorAll('.copy-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const codeId = btn.getAttribute('data-copy');
                const code = document.getElementById(codeId).textContent;

                navigator.clipboard.writeText(code).then(() => {
                    btn.textContent = 'Copiado!';
                    setTimeout(() => {
                        btn.textContent = 'Copiar';
                    }, 2000);
                });
            });
        });

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const href = item.getAttribute('href');
                const target = document.querySelector(href);

                if (target) {
                    // Remove active from all nav items
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    // Add active to clicked item
                    item.classList.add('active');

                    // Scroll to target
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Search functionality
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            // Implement search logic here
            console.log('Searching for:', query);
        });

        // Update navigation based on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            let current = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.pageYOffset >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
                if (nav.getAttribute('href') === `#${current}`) {
                    nav.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>